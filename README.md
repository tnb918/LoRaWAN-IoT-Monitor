# LoRaWAN-IoT-Monitor
# IoT environmental monitoring system based on LoRaWAN

## 基础设计实现功能

1、设备参数配置：终端和云端的设备类型均为Class A，终端上行数据为确认帧。

2、终端入网：控制终端完成入网，入网超时时间120 s。 

3、数据数据采集、处理和优化：

    （1）应用层按照3s/次的速率获取终端传感数值，数据保存在MCU中。

    （2）应用层采集10次传感数值，进行数据处理，数据处理完成后按照数据通信协议（表1）上传至云平台
        （数据通信协议上传格式为16进制，非字符串形式；云平台下发数据格式也为16进制），
         其中数据处理方式为：
         
         a)去除10次传感数值的最高值和最低值，取其余数据的平均值；
         
         b)若上传的传感数值高于设定阈值，则警告指示灯亮起（传感器对应阈值及警告指示灯关系见表2），并在触摸屏上打印警告信息；

4、图形界面：移植触摸屏驱动至程序中并实现以下功能：

    （1）显示该设备DevEui。

    （2）显示本次上报数据内容。
    
    （3）显示本次通信状态（成功/失败）。

    （4）显示本次通信接收到的下行数据。

## 进阶设计实现功能

触摸屏新增参数修改界面，支持通过触摸屏修改参数，传感器类型修改后，采集的传感数值也要相应改变，参数修改界面和通信显示界面为两个界面，支持界面切换。可支持修改的参数：

    （1）定时上报时间、（2）每次上报采样的次数、（3）传感器类型。
